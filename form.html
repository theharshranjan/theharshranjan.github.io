<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book a Session | Samarpan Holistic Wellbeing</title>
    
    <!-- FAVICON -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22 fill=%22none%22 stroke=%22%23D95D39%22 stroke-width=%222%22><circle cx=%2250%22 cy=%2250%22 r=%2245%22/><path d=%22M50 15C50 15 70 40 70 55C70 66 61 75 50 75C39 75 30 66 30 55C30 40 50 15 50 15Z%22/></svg>">

    <!-- FAST LOADING LIBRARIES -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600&family=Lato:wght@300;400;700&family=Marcellus&display=swap" rel="stylesheet">

    <!-- CONFIG -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        clay: '#D95D39',
                        'brand-black': '#1C1C1C',
                        'brand-gray': '#666666',
                        'brand-gold': '#C5A059',
                        paper: '#FDFBF7',
                        sage: '#4A5D4F'
                    },
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        serif: ['Cormorant Garamond', 'serif'],
                        display: ['Marcellus', 'serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #FDFBF7; color: #1C1C1C; -webkit-font-smoothing: antialiased; }
        #mobile-menu { transition: opacity 0.2s ease, visibility 0.2s ease; opacity: 0; visibility: hidden; }
        #mobile-menu.active { opacity: 1; visibility: visible; }
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: #D95D39; }
    </style>
</head>
<body class="antialiased selection:bg-clay selection:text-white">

    <!-- NAVBAR -->
    <nav id="navbar" class="fixed w-full z-50 bg-white text-brand-black border-b border-black/5 shadow-sm">
        <div class="max-w-[1400px] mx-auto px-6 h-20 flex justify-between items-center relative">
            
            <!-- Left Menu -->
            <div class="hidden lg:flex flex-1 justify-start gap-8 items-center">
                <a href="about.html" class="font-sans text-[10px] uppercase tracking-[0.2em] transition-colors nav-link hover:text-clay text-brand-black">About</a>
                <a href="journal.html" class="font-sans text-[10px] uppercase tracking-[0.2em] transition-colors nav-link hover:text-clay text-brand-black">Journals</a>
                <a href="index.html#programmes" class="font-sans text-[10px] uppercase tracking-[0.2em] transition-colors nav-link hover:text-clay text-brand-black">Sessions</a>
                <a href="index.html#ayurveda" class="font-sans text-[10px] uppercase tracking-[0.2em] transition-colors nav-link hover:text-clay text-brand-black">Ayurveda</a>
            </div>

            <!-- Centered Logo -->
            <a href="index.html" class="flex flex-col items-center flex-shrink-0 mx-auto relative z-50">
                <svg width="32" height="32" viewBox="0 0 100 100" fill="none" class="text-clay mb-1 group-hover:scale-110 transition duration-500">
                    <circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="3"/>
                    <path d="M50 15C50 15 70 40 70 55C70 66.0457 61.0457 75 50 75C39 75 30 66 30 55C30 40 50 15 50 15Z" stroke="currentColor" stroke-width="3"/>
                    <circle cx="50" cy="85" r="3" fill="currentColor"/>
                </svg>
                <span class="text-[12px] uppercase tracking-[0.25em] font-display font-bold text-clay">Samarpan</span>
            </a>

            <!-- Support Button -->
            <div class="hidden lg:flex flex-1 justify-end items-center">
                <a href="mailto:justtheself@gmail.com" class="px-5 py-2.5 bg-brand-black text-white font-sans text-[9px] font-bold uppercase tracking-[0.15em] hover:bg-clay transition duration-500 rounded-sm flex items-center gap-2">
                    <i data-lucide="mail" class="w-3 h-3"></i> Support
                </a>
            </div>

            <button class="lg:hidden text-brand-black z-50 p-2" onclick="toggleMenu()">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </div>

        <div id="mobile-menu" class="fixed inset-0 bg-paper text-brand-black z-[100] flex flex-col items-center justify-center space-y-8">
            <button class="absolute top-6 right-6 text-clay p-4" onclick="toggleMenu()"><i data-lucide="x" class="w-8 h-8"></i></button>
            <a href="mailto:justtheself@gmail.com" class="font-display text-2xl">Support</a>
            <a href="index.html" class="font-display text-2xl">Home</a>
            <a href="about.html" class="font-display text-2xl">About</a>
            <a href="journal.html" class="font-display text-2xl">Journals</a>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="pt-32 pb-24 px-6">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-12">
                <span class="font-sans text-[10px] uppercase tracking-[0.3em] text-clay block mb-3">Conscious Healing</span>
                <h1 class="font-display text-4xl md:text-5xl text-brand-black mb-4 uppercase tracking-tight">Booking Request</h1>
                <div class="w-12 h-px bg-brand-gold mx-auto mb-6"></div>
                <p class="font-serif italic text-lg text-brand-gray max-w-xl mx-auto">
                    Fill in your details to start your journey. Data is organized by date for efficient processing.
                </p>
            </div>

            <div class="bg-white p-8 md:p-10 rounded-sm shadow-lg border-t-4 border-clay">
                <form id="bookingForm" onsubmit="handleBookingFirebase(event)" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <input type="text" name="name" required class="w-full bg-[#FAFAF8] border-b border-gray-200 p-3 text-sm focus:outline-none focus:border-clay transition" placeholder="Full Name">
                        <input type="email" name="email" required class="w-full bg-[#FAFAF8] border-b border-gray-200 p-3 text-sm focus:outline-none focus:border-clay transition" placeholder="Email Address">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <input type="tel" name="phone" required class="w-full bg-[#FAFAF8] border-b border-gray-200 p-3 text-sm focus:outline-none focus:border-clay transition" placeholder="WhatsApp / Phone">
                        <select name="service" required class="w-full bg-[#FAFAF8] border-b border-gray-200 p-3 text-sm focus:outline-none focus:border-clay transition text-gray-600">
                            <option value="" disabled selected>Select Service</option>
                            <option>Ayurveda Consultation</option>
                            <option>Psychology Session</option>
                            <option>Yoga & Pranayama</option>
                            <option>Mantra Therapy</option>
                            <option>Other Inquiry</option>
                        </select>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="flex flex-col">
                            <label class="text-[9px] uppercase tracking-widest text-brand-gray mb-1 ml-1">Preferred Date</label>
                            <input type="date" name="preferredDate" required class="w-full bg-[#FAFAF8] border-b border-gray-200 p-3 text-sm focus:outline-none focus:border-clay">
                        </div>
                        <div class="flex flex-col">
                            <label class="text-[9px] uppercase tracking-widest text-brand-gray mb-1 ml-1">Preferred Slot</label>
                            <select name="preferredSlot" required class="w-full bg-[#FAFAF8] border-b border-gray-200 p-3 text-sm focus:outline-none focus:border-clay transition">
                                <option>Morning (8 AM - 12 PM)</option>
                                <option>Afternoon (12 PM - 4 PM)</option>
                                <option>Evening (4 PM - 8 PM)</option>
                            </select>
                        </div>
                    </div>

                    <textarea name="message" required class="w-full bg-[#FAFAF8] border border-gray-200 p-3 text-sm rounded-sm focus:outline-none focus:border-clay transition h-24 resize-none" placeholder="Describe your concerns..."></textarea>

                    <button type="submit" id="submitBtn" class="w-full py-4 bg-clay text-white font-bold text-xs uppercase tracking-[0.2em] hover:bg-brand-black transition rounded">Confirm Request</button>
                </form>
                <div id="formStatus" class="mt-4"></div>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="bg-brand-black text-white/60 py-16 px-6 border-t border-white/10">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 text-left">
            <div class="col-span-1 md:col-span-2">
                <svg width="48" height="48" viewBox="0 0 100 100" fill="none" class="text-clay mb-4">
                    <circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="3"/>
                    <path d="M50 15C50 15 70 40 70 55C70 66.0457 61.0457 75 50 75C39 75 30 66 30 55C30 40 50 15 50 15Z" stroke="currentColor" stroke-width="3"/>
                    <circle cx="50" cy="85" r="4" fill="currentColor"/>
                    <path d="M20 50H80" stroke="currentColor" stroke-width="1.5" stroke-opacity="0.6"/>
                </svg>
                <h4 class="font-display text-lg tracking-widest text-paper mb-1 uppercase">SAMARPAN</h4>
                <p class="font-sans text-[10px] uppercase tracking-widest text-clay mb-4">By Harsh Ranjan</p>
                <p class="text-sm leading-relaxed max-w-sm">Bridging ancient wisdom with modern science for holistic well-being.</p>
            </div>
            <div>
                <h5 class="text-clay font-display text-xs tracking-widest uppercase mb-6">Links</h5>
                <ul class="space-y-3 text-sm">
                    <li><a href="sessions.html" class="hover:text-white transition">Sessions</a></li>
                    <li><a href="ayurveda.html" class="hover:text-white transition">Ayurveda</a></li>
                    <li><a href="journal.html" class="hover:text-white transition">Journals</a></li>
                    <li><a href="index.html#contact" class="hover:text-white transition">Contact</a></li>
                </ul>
            </div>
            <div>
                <h5 class="text-clay font-display text-xs tracking-widest uppercase mb-6">Contact</h5>
                <ul class="space-y-3 text-sm">
                    <li><a href="mailto:justtheself@gmail.com" class="hover:text-white transition flex items-center gap-2 font-sans"><i data-lucide="mail" class="w-4 h-4 text-clay"></i> justtheself@gmail.com</a></li>
                    <li><a href="https://instagram.com/justtheself" target="_blank" class="hover:text-white transition flex items-center gap-2"><i data-lucide="instagram" class="w-4 h-4 text-clay"></i> @justtheself</a></li>
                    <li class="flex items-center gap-2"><i data-lucide="map-pin" class="w-4 h-4 text-clay"></i> New Delhi, India</li>
                </ul>
            </div>
        </div>
        <div class="max-w-7xl mx-auto mt-12 pt-8 border-t border-white/5 text-center text-[10px] text-white/30">
            &copy; 2026 Harsh Ranjan (Samarpan). All Rights Reserved.
        </div>
    </footer>

    <!-- FIREBASE MODULE -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDSK1aO2VlYeUAdf5IZ8dA9Y69wM7pkrHQ",
            authDomain: "thesamrpan.firebaseapp.com",
            projectId: "thesamrpan",
            storageBucket: "thesamrpan.firebasestorage.app",
            messagingSenderId: "510287005957",
            appId: "1:510287005957:web:978533c6dbca0f4969cf6c"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const appId = "samarpan-official";

        const getDateKey = () => {
            const now = new Date();
            const day = now.getDate().toString().padStart(2, '0');
            const month = now.toLocaleString('default', { month: 'short' });
            const year = now.getFullYear();
            return `${day} ${month} ${year}`;
        };

        window.handleBookingFirebase = async function(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const statusDiv = document.getElementById('formStatus');
            const formData = new FormData(e.target);
            const clientName = formData.get('name');

            if (!auth.currentUser) await signInAnonymously(auth);
            btn.disabled = true; btn.innerText = "Processing...";
            
            try {
                const dateKey = getDateKey();
                const dayFileRef = doc(db, "artifacts", appId, "public", "data", "daily_logs", dateKey);
                const entryKey = `${clientName}_${Date.now()}`;
                
                await setDoc(dayFileRef, {
                    [entryKey]: {
                        clientName: clientName,
                        email: formData.get('email'),
                        phone: formData.get('phone'),
                        service: formData.get('service'),
                        message: formData.get('message'),
                        submittedAt: new Date().toISOString()
                    }
                }, { merge: true });

                statusDiv.innerHTML = `<div class="p-4 bg-sage/10 text-sage text-center text-xs font-bold uppercase tracking-widest border border-sage/20">Thank you, your details are received. Our team will reach to you shortly.</div>`;
                e.target.reset();
            } catch (error) {
                statusDiv.innerHTML = `<div class="p-4 bg-red-50 text-red-600 text-center text-xs font-bold uppercase border border-red-100 leading-relaxed">Error submitting request. Please write an email to us directly at justtheself@gmail.com.</div>`;
            } finally {
                btn.disabled = false; btn.innerText = "Confirm Request";
            }
        };
    </script>

    <script>
        lucide.createIcons();
        function toggleMenu() { document.getElementById('mobile-menu').classList.toggle('active'); }
    </script>
</body>
</html>
