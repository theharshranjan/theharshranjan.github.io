<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO -->
    <title>Connect | Harsh Ranjan (Samarpan)</title>
    <meta name="description" content="Contact Harsh Ranjan for Ayurveda consultations, Psychology sessions, and workshops. Based in New Delhi, serving globally.">

    <!-- FAVICON -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22 fill=%22none%22 stroke=%22%23C88D72%22 stroke-width=%224%22><circle cx=%2250%22 cy=%2250%22 r=%2245%22/><path d=%22M50 15C50 15 70 40 70 55C70 66 61 75 50 75C39 75 30 66 30 55C30 40 50 15 50 15Z%22/><circle cx=%2250%22 cy=%2285%22 r=%223%22 fill=%22%23C88D72%22/></svg>">

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Manrope:wght@200;300;400;500;600&display=swap" rel="stylesheet">

    <!-- Design System -->
    <style>
        :root {
            --color-bg: #FDFCF8;
            --color-sage: #4A5D4F;
            --color-terra: #C88D72;
            --color-gold: #BFA57D;
            --color-charcoal: #1A1A1A;
        }
        
        body { font-family: 'Manrope', sans-serif; background-color: var(--color-bg); color: var(--color-charcoal); overflow-x: hidden; }
        .serif { font-family: 'Cormorant Garamond', serif; }
        .logo-font { font-family: 'Cinzel', serif; }
        
        /* Animations */
        .reveal-up { opacity: 0; transform: translateY(40px); transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1); }
        .reveal-up.active { opacity: 1; transform: translateY(0); }

        /* Mobile Menu */
        #mobile-menu { transition: transform 0.3s ease-in-out; }
        .hidden-menu { transform: translateX(100%); }
        .visible-menu { transform: translateX(0); }

        /* Chat Widget */
        .chat-widget { transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1); transform-origin: bottom right; opacity: 0; pointer-events: none; transform: scale(0.9) translateY(20px); }
        .chat-widget.open { opacity: 1; pointer-events: all; transform: scale(1) translateY(0); }

        /* Status Messages */
        #formStatus {
            margin-top: 1rem; padding: 1rem; border-radius: 4px; text-align: center; font-size: 0.9rem; display: none;
        }
        #formStatus.success { display: block; background: rgba(74, 124, 89, 0.1); color: #4A5D4F; border: 1px solid #4A5D4F; }
        #formStatus.error { display: block; background: rgba(192, 57, 43, 0.1); color: #c0392b; border: 1px solid #c0392b; }
        #formStatus.loading { display: block; color: #666; font-style: italic; }
    </style>
</head>
<body class="antialiased selection:bg-[#C88D72] selection:text-white">

    <!-- Navigation -->
    <nav id="navbar" class="fixed w-full z-50 transition-all duration-500 py-4 text-white border-b border-white/10 bg-black/40 backdrop-blur-md">
        <div class="container mx-auto px-6 flex justify-between items-center">
            
            <!-- Logo -->
            <a href="index.html" class="group flex flex-col items-center justify-center pt-1">
                <svg width="40" height="40" viewBox="0 0 100 100" fill="none" class="text-[#C88D72] mb-1 group-hover:scale-110 transition duration-500">
                    <circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="2"/>
                    <path d="M50 15C50 15 70 40 70 55C70 66.0457 61.0457 75 50 75C38.9543 75 30 66.0457 30 55C30 40 50 15 50 15Z" stroke="currentColor" stroke-width="2"/>
                    <circle cx="50" cy="85" r="3" fill="currentColor"/>
                    <path d="M20 50H80" stroke="currentColor" stroke-width="1" stroke-opacity="0.6"/>
                </svg>
                <div class="flex items-center gap-2 opacity-90">
                    <span class="text-[11px] uppercase tracking-[0.25em] logo-font text-[#FDFCF8] group-hover:text-[#C88D72] transition">Samarpan</span>
                </div>
            </a>
            
            <!-- Desktop Menu -->
            <div class="hidden lg:flex items-center space-x-10 text-xs font-bold uppercase tracking-widest">
                <a href="index.html" class="hover:text-[#C88D72] transition">Home</a>
                <a href="about.html" class="hover:text-[#C88D72] transition">About</a>
                <a href="sessions.html" class="hover:text-[#C88D72] transition">Sessions</a>
                <a href="ayurveda.html" class="hover:text-[#C88D72] transition">Ayurveda</a>
                <a href="psychology.html" class="hover:text-[#C88D72] transition">Psychology</a>
                <a href="blog.html" class="hover:text-[#C88D72] transition">Blog</a>
                <a href="nutrition.html" class="hover:text-[#C88D72] transition">Diet</a>
                <a href="contact.html" class="px-8 py-3 border border-white/30 bg-white text-black transition duration-300 rounded-sm">Contact</a>
            </div>

            <!-- Mobile Toggle -->
            <button id="mobile-menu-btn" class="lg:hidden text-white"><i data-lucide="menu" class="w-8 h-8"></i></button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="fixed inset-0 bg-[#FDFCF8] text-[#1A1A1A] z-40 hidden-menu flex flex-col justify-center items-center space-y-8 w-screen h-screen">
            <button id="close-menu-btn" class="absolute top-8 right-8"><i data-lucide="x" class="w-10 h-10 text-[#C88D72]"></i></button>
            <a href="index.html" class="text-3xl serif mobile-link">Home</a>
            <a href="about.html" class="text-3xl serif mobile-link">About</a>
            <a href="sessions.html" class="text-3xl serif mobile-link">Sessions</a>
            <a href="ayurveda.html" class="text-3xl serif mobile-link">Ayurveda</a>
            <a href="psychology.html" class="text-3xl serif mobile-link">Psychology</a>
            <a href="blog.html" class="text-3xl serif mobile-link">Blog</a>
            <a href="contact.html" class="text-3xl serif text-[#C88D72] mobile-link">Contact</a>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="relative w-full h-[60vh] overflow-hidden flex items-center justify-center bg-[#1A1A1A]">
        <!-- Image: Connection/Writing -->
        <img src="https://images.unsplash.com/photo-1516383748770-c3f0b6043b0d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80" alt="Connect" class="absolute inset-0 w-full h-full object-cover opacity-60">
        <div class="absolute inset-0 bg-gradient-to-t from-[#FDFCF8] via-transparent to-black/60"></div>

        <div class="relative z-10 text-center px-4 mt-10">
            <span class="text-[#C88D72] text-sm font-bold uppercase tracking-[0.5em] mb-6 block reveal-up">Start the Dialogue</span>
            <h1 class="text-6xl md:text-8xl serif text-white mb-8 reveal-up drop-shadow-2xl">
                Connect
            </h1>
            <p class="text-white/90 font-light max-w-2xl mx-auto text-xl reveal-up leading-relaxed">
                Whether for healing, collaboration, or inquiry, the path begins with a single step.
            </p>
        </div>
    </header>

    <!-- Main Contact Section -->
    <section class="py-24 bg-[#FDFCF8]">
        <div class="container mx-auto px-6 md:px-12">
            <div class="grid lg:grid-cols-2 gap-20">
                
                <!-- Contact Info & Socials -->
                <div class="reveal-up space-y-12">
                    <div>
                        <h2 class="text-4xl serif text-[#1A1A1A] mb-6">Get in Touch</h2>
                        <p class="text-gray-600 text-lg leading-relaxed">
                            I invite you to reach out with questions about the practice, retreat schedules, or to simply share your journey. Every message is read with care.
                        </p>
                    </div>

                    <div class="space-y-6">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-[#C88D72]/10 rounded-full flex items-center justify-center text-[#C88D72]">
                                <i data-lucide="mail" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-sm uppercase tracking-widest">Email</h4>
                                <a href="mailto:justtheself@gmail.com" class="text-xl serif text-[#1A1A1A] hover:text-[#C88D72] transition">justtheself@gmail.com</a>
                            </div>
                        </div>
                        
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 bg-[#4A5D4F]/10 rounded-full flex items-center justify-center text-[#4A5D4F]">
                                <i data-lucide="map-pin" class="w-6 h-6"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-sm uppercase tracking-widest">Base</h4>
                                <p class="text-xl serif text-[#1A1A1A]">New Delhi, India</p>
                                <p class="text-sm text-gray-500">Available Globally Online</p>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4 class="font-bold text-sm uppercase tracking-widest mb-6 text-[#1A1A1A]">Follow the Journey</h4>
                        <div class="flex gap-4">
                            <a href="https://instagram.com/samarpan_wellness" target="_blank" class="w-14 h-14 border border-gray-200 rounded-sm flex items-center justify-center text-gray-500 hover:bg-[#C88D72] hover:text-white hover:border-[#C88D72] transition duration-300">
                                <i data-lucide="instagram" class="w-6 h-6"></i>
                            </a>
                            <a href="https://linkedin.com/in/harshranjan" target="_blank" class="w-14 h-14 border border-gray-200 rounded-sm flex items-center justify-center text-gray-500 hover:bg-[#4A5D4F] hover:text-white hover:border-[#4A5D4F] transition duration-300">
                                <i data-lucide="linkedin" class="w-6 h-6"></i>
                            </a>
                            <a href="#" target="_blank" class="w-14 h-14 border border-gray-200 rounded-sm flex items-center justify-center text-gray-500 hover:bg-[#1A1A1A] hover:text-white hover:border-[#1A1A1A] transition duration-300">
                                <i data-lucide="twitter" class="w-6 h-6"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Functional Form -->
                <div class="bg-white p-10 rounded-sm shadow-2xl border-t-4 border-[#C88D72] reveal-up">
                    <h3 class="text-2xl serif mb-8">Send a Message</h3>
                    
                    <!-- Form Logic Implemented Below -->
                    <form id="dataForm" novalidate class="space-y-6">
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wide mb-2 text-gray-400">Name *</label>
                                <input type="text" id="name" name="name" class="w-full p-4 bg-[#FAFAF8] border border-gray-200 text-[#1A1A1A] outline-none focus:border-[#C88D72] transition" required maxlength="100">
                            </div>
                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wide mb-2 text-gray-400">Email *</label>
                                <input type="email" id="email" name="email" class="w-full p-4 bg-[#FAFAF8] border border-gray-200 text-[#1A1A1A] outline-none focus:border-[#C88D72] transition" required maxlength="100">
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wide mb-2 text-gray-400">Phone *</label>
                                <input type="tel" id="phone" name="phone" class="w-full p-4 bg-[#FAFAF8] border border-gray-200 text-[#1A1A1A] outline-none focus:border-[#C88D72] transition" required maxlength="20">
                            </div>
                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wide mb-2 text-gray-400">Inquiry Type *</label>
                                <select id="inquiry" name="inquiry" class="w-full p-4 bg-[#FAFAF8] border border-gray-200 text-[#1A1A1A] outline-none focus:border-[#C88D72] transition" required>
                                    <option value="">Select Option</option>
                                    <option value="Ayurveda Session">Ayurveda Session</option>
                                    <option value="Psychology Session">Psychology Session</option>
                                    <option value="Yoga Therapy">Yoga Therapy</option>
                                    <option value="Diet & Nutrition">Diet & Nutrition</option>
                                    <option value="Retreat">Retreat</option>
                                    <option value="Collaboration">Collaboration</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <label class="block text-xs font-bold uppercase tracking-wide mb-2 text-gray-400">Subject *</label>
                            <input type="text" id="subject" name="subject" class="w-full p-4 bg-[#FAFAF8] border border-gray-200 text-[#1A1A1A] outline-none focus:border-[#C88D72] transition" required maxlength="100">
                        </div>

                        <div>
                            <label class="block text-xs font-bold uppercase tracking-wide mb-2 text-gray-400">Message *</label>
                            <textarea id="message" name="message" rows="5" class="w-full p-4 bg-[#FAFAF8] border border-gray-200 text-[#1A1A1A] outline-none focus:border-[#C88D72] transition resize-none" required maxlength="500"></textarea>
                        </div>

                        <!-- Hidden Spam Trap -->
                        <input type="text" name="_gotcha" style="position: absolute; left: -9999px;" tabindex="-1" autocomplete="off" aria-hidden="true" />

                        <button type="submit" id="submitBtn" class="w-full py-4 bg-[#1A1A1A] text-white font-bold text-xs uppercase tracking-widest hover:bg-[#C88D72] transition duration-300 rounded-sm shadow-lg">
                            Send Message
                        </button>
                        
                        <div id="formStatus"></div>
                    </form>
                </div>

            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-[#121212] text-white pt-12 pb-12 border-t border-white/10">
        <div class="container mx-auto px-6 text-center">
            <a href="index.html" class="inline-block mb-4">
                <svg width="30" height="30" viewBox="0 0 100 100" fill="none" class="text-[#C88D72] mx-auto mb-2">
                    <circle cx="50" cy="50" r="48" stroke="currentColor" stroke-width="3"/>
                    <path d="M50 20C50 20 65 40 65 55C65 63.2843 58.2843 70 50 70C41.7157 70 35 63.2843 35 55C35 40 50 20 50 20Z" stroke="currentColor" stroke-width="3"/>
                </svg>
                <span class="text-xl logo-font tracking-wider text-white">SAMARPAN</span>
            </a>
            <p class="text-xs text-gray-500">© 2025 Harsh Ranjan (Samarpan). All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Chat Widget -->
    <button onclick="toggleChat()" class="fixed bottom-8 right-8 w-14 h-14 bg-[#1A1A1A] border border-[#C88D72] text-[#C88D72] rounded-full shadow-2xl z-50 flex items-center justify-center hover:scale-110 transition duration-300"><i data-lucide="message-circle" class="w-6 h-6"></i></button>
    <div id="chat-window" class="chat-widget fixed bottom-28 right-8 w-80 sm:w-96 bg-white rounded-xl shadow-2xl z-50 flex flex-col overflow-hidden border border-gray-200" style="height: 500px;">
        <div class="bg-[#1A1A1A] p-4 flex justify-between items-center text-white">
            <div class="flex items-center gap-3"><div class="w-8 h-8 rounded-full bg-[#C88D72] flex items-center justify-center text-black font-bold text-xs">HR</div><h4 class="serif text-sm">Samarpan AI</h4></div>
            <button onclick="toggleChat()" class="text-white/50 hover:text-white"><i data-lucide="x" class="w-5 h-5"></i></button>
        </div>
        <div id="chat-messages" class="flex-1 p-4 overflow-y-auto bg-[#FAFAF8] space-y-3"><div class="flex justify-start"><div class="bg-white border border-gray-100 p-3 rounded-2xl rounded-tl-none shadow-sm text-sm text-gray-700 max-w-[85%]">Namaste. I am Samarpan AI. How can I help you?</div></div></div>
        <form onsubmit="handleChatSubmit(event)" class="p-3 bg-white border-t border-gray-100 flex gap-2"><input type="text" id="chat-input" placeholder="Ask me anything..." class="flex-1 bg-gray-50 border border-gray-200 rounded-full px-4 py-2 text-sm focus:outline-none focus:border-[#C88D72]"><button type="submit" class="w-10 h-10 bg-[#1A1A1A] text-white rounded-full flex items-center justify-center hover:bg-[#C88D72] transition-colors"><i data-lucide="send" class="w-4 h-4"></i></button></form>
    </div>

    <script>
        lucide.createIcons();
        const apiKey = "AIzaSyC2qafCYO2bU2ftTWReco6xroZh9Szaqw0"; 
        const apiModel = "gemini-2.5-flash-preview-09-2025";

        gsap.registerPlugin(ScrollTrigger);
        gsap.utils.toArray('.reveal-up').forEach(elem => {
            gsap.fromTo(elem, { opacity: 0, y: 60 }, { opacity: 1, y: 0, duration: 1.2, scrollTrigger: { trigger: elem, start: "top 85%" } });
        });

        // Mobile Menu Logic
        const menuBtn = document.getElementById('mobile-menu-btn');
        const closeMenuBtn = document.getElementById('close-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        if(menuBtn && closeMenuBtn && mobileMenu) {
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.remove('hidden-menu');
                mobileMenu.classList.add('visible-menu');
            });
            closeMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.remove('visible-menu');
                mobileMenu.classList.add('hidden-menu');
            });
        }

        // --- ROBUST FORM SUBMISSION LOGIC ---
        const dataForm = document.getElementById('dataForm');
        const formStatus = document.getElementById('formStatus');
        const submitBtn = document.getElementById('submitBtn');
        let isSubmitting = false;

        dataForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            if (isSubmitting) return;
            if (dataForm.querySelector('input[name="_gotcha"]').value) return; // Spam trap
            if (!dataForm.checkValidity()) {
                dataForm.reportValidity();
                return;
            }

            isSubmitting = true;
            const formData = new FormData(dataForm);
            const timestamp = new Date().toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' });
            formData.append('timestamp', timestamp);

            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';
            formStatus.textContent = 'Sending your details...';
            formStatus.className = 'loading';

            try {
                // Simultaneous submission to Formspree and Google Script
                await Promise.allSettled([
                    fetch('https://formspree.io/f/mqadzvad', {
                        method: 'POST',
                        body: formData,
                        headers: { 'Accept': 'application/json' }
                    }),
                    fetch('https://script.google.com/macros/s/AKfycbwwlld65VcydrSnZUu5T5s9mPVt_Y78UyVMds9JkspBgvrdfvfC2WI7aADJMvGdVJh5/exec', {
                        method: 'POST',
                        body: new URLSearchParams(Object.fromEntries(formData)),
                        mode: 'no-cors'
                    })
                ]);

                formStatus.textContent = '✅ Thank you! Your details have been sent successfully. We will contact you soon.';
                formStatus.className = 'success';
                dataForm.reset();
                submitBtn.disabled = false;
                submitBtn.textContent = 'Send Message';

                setTimeout(() => {
                    formStatus.textContent = '';
                    formStatus.className = '';
                }, 5000);

            } catch (error) {
                console.error('Error:', error);
                formStatus.textContent = '❌ Something went wrong. Please try again or contact us directly.';
                formStatus.className = 'error';
                submitBtn.disabled = false;
                submitBtn.textContent = 'Send Message';
            } finally {
                isSubmitting = false;
            }
        });

        // Chat Logic
        function toggleChat() { document.getElementById('chat-window').classList.toggle('open'); }

        async function callGemini(prompt, sys) {
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${apiModel}:generateContent?key=${apiKey}`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }], systemInstruction: { parts: [{ text: sys }] } }) });
                const data = await response.json();
                return data.candidates?.[0]?.content?.parts?.[0]?.text || "Error.";
            } catch(e) { return "Connection error."; }
        }

        async function handleChatSubmit(e) {
            e.preventDefault();
            const input = document.getElementById('chat-input');
            const msg = input.value;
            if(!msg) return;
            const box = document.getElementById('chat-messages');
            box.innerHTML += `<div class="flex justify-end"><div class="bg-[#C88D72] text-white p-3 rounded-2xl rounded-tr-none text-sm max-w-[85%] shadow-md">${msg}</div></div>`;
            input.value = '';
            box.scrollTop = box.scrollHeight;
            const loadId = 'load'+Date.now();
            box.innerHTML += `<div id="${loadId}" class="flex justify-start"><div class="bg-white border border-gray-100 p-3 rounded-2xl rounded-tl-none shadow-sm text-xs text-gray-400">Thinking...</div></div>`;
            box.scrollTop = box.scrollHeight;
            const res = await callGemini(msg, "You are Harsh Ranjan.");
            document.getElementById(loadId).remove();
            box.innerHTML += `<div class="flex justify-start"><div class="bg-white border border-gray-100 p-3 rounded-2xl rounded-tl-none shadow-sm text-sm text-gray-700 max-w-[85%]">${marked.parse(res)}</div></div>`;
            box.scrollTop = box.scrollHeight;
        }
    </script>
</body>
</html>
